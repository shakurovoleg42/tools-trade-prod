(()=>{var e={};e.id=316,e.ids=[316],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8879:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>h,tree:()=>d}),t(4962),t(163),t(5866);var s=t(3191),o=t(8716),a=t(7922),i=t.n(a),n=t(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(r,c);let d=["",{children:["[region]",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4962)),"/home/oleg/Рабочий стол/rarar/tools-trade_front/tools-trade-prod/src/app/[region]/search/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,163)),"/home/oleg/Рабочий стол/rarar/tools-trade_front/tools-trade-prod/src/app/[region]/layout.js"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],l=["/home/oleg/Рабочий стол/rarar/tools-trade_front/tools-trade-prod/src/app/[region]/search/page.jsx"],u="/[region]/search/page",p={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/[region]/search/page",pathname:"/[region]/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3457:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,9404,23)),Promise.resolve().then(t.bind(t,8888))},8888:(e,r,t)=>{"use strict";t.d(r,{Product:()=>u,default:()=>p});var s=t(326),o=t(2908),a=t.n(o),i=t(7577),n=t(5047),c=t(6226),d=t(7465),l=t(5103);let u=({product:e})=>{let[r,t]=(0,i.useState)(!1),o=(0,n.useRouter)(),{region:d}=(0,n.useParams)(),l="/default-image.png",u=()=>{o.push(`/${d}/products/${e.slug}`)};return(0,s.jsxs)("div",{className:a().product,children:[(0,s.jsxs)("div",{className:a().contmg,children:[s.jsx(c.default,{src:e.image||l,width:193.66,height:193.66,onClick:u,draggable:"false",alt:"product",onLoad:()=>t(!0),className:`${r?"":"hidden"} hidden md:block`}),s.jsx(c.default,{src:e.image||l,width:160.66,height:160.66,onClick:u,draggable:"false",alt:"product",onLoad:()=>t(!0),className:`${r?"":"block "} block md:hidden`})]}),s.jsx("div",{className:a().title,children:s.jsx("p",{children:e.name})}),s.jsx("div",{className:a().shortDesc,children:s.jsx("p",{children:e.short_description})}),s.jsx("div",{className:a().btn,children:s.jsx("button",{onClick:u,children:"MORE"})})]})};u.displayName="Product";let p=({products:e,pagination:r})=>{let t=r.total,o=r.per_page,i=(0,n.useRouter)(),c=(0,n.usePathname)(),p=(0,n.useSearchParams)(),h=new URLSearchParams(p),x=+p.get("page")||1;return(0,s.jsxs)("div",{className:a().wrapper,children:[s.jsx("div",{className:a().papper,children:e.length>0?e.map((e,r)=>s.jsx(u,{product:e},r)):s.jsx("p",{className:a().noProducts,children:"No products for this filter"})}),s.jsx("div",{className:a().pagination,children:s.jsx(l.Z,{spacing:2,children:s.jsx(d.Z,{count:Math.ceil(t/o),variant:"outlined",shape:"rounded",page:x,onChange:(e,r)=>{h.set("page",r),i.replace(c+"?"+h.toString())},onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}})})})]})}},7353:e=>{e.exports={wrapper:"styles_wrapper__nRW5t"}},2908:e=>{e.exports={papper:"ProductsList_papper__ei2VR",product:"ProductsList_product__3IHH0",pagination:"ProductsList_pagination__XP_7z",contmg:"ProductsList_contmg__XopNS",title:"ProductsList_title__ArLm2",wrapper:"ProductsList_wrapper__gFuoG",shortDesc:"ProductsList_shortDesc__jVdTi",btn:"ProductsList_btn__GkI9p",loading:"ProductsList_loading__aR9XK"}},4962:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(9510),o=t(7353),a=t.n(o);t(7371);var i=t(7541),n=t(5766);let c=async({params:e,searchParams:r})=>{e.region;let t=r.query;try{let e=await n.Z.search(t);if(e.products&&Array.isArray(e.products.data))return console.log("Products array:",e.products.data),s.jsx("section",{children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("h1",{children:["Results for search ",t]}),e.products.data.length>0?s.jsx("div",{className:a().wrapper,children:e.products.data.map(e=>s.jsx(i.xs,{product:e},e.id))}):s.jsx("p",{children:"No products found"})]})});return console.error("Products data is not an array:",e.products),s.jsx("section",{children:s.jsx("div",{className:"container",children:s.jsx("p",{children:"Error: Products data is not in the expected format."})})})}catch(e){return console.error("Search request failed:",e),s.jsx("section",{children:s.jsx("div",{className:"container",children:s.jsx("p",{children:"Error loading search results"})})})}}},7541:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>c,xs:()=>n});var s=t(8570);let o=(0,s.createProxy)(String.raw`/home/oleg/Рабочий стол/rarar/tools-trade_front/tools-trade-prod/src/blocks/allProducts/ListProducts.jsx`),{__esModule:a,$$typeof:i}=o;o.default;let n=(0,s.createProxy)(String.raw`/home/oleg/Рабочий стол/rarar/tools-trade_front/tools-trade-prod/src/blocks/allProducts/ListProducts.jsx#Product`),c=(0,s.createProxy)(String.raw`/home/oleg/Рабочий стол/rarar/tools-trade_front/tools-trade-prod/src/blocks/allProducts/ListProducts.jsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,712,471,635,504,727],()=>t(8879));module.exports=s})();